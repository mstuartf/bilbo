<div class="home-card-container">

  <mat-card class="home-card">

    <mat-card-header class="home-card-header">

    	<mat-card-title>My Bills</mat-card-title>

	    <button
	      (click)="logout()"
	      [disabled]="showSpinner || !dataSource"
	      mat-button color="primary">
	      Logout
	    </button>

    </mat-card-header>

    <mat-card-content class="home-card-content">

      <table mat-table matSort [dataSource]="dataSource" class="home-table">

      	<ng-container matColumnDef="title">
		  <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
		  <td mat-cell *matCellDef="let bill"> {{bill.title}} </td>
		</ng-container>

      	<ng-container matColumnDef="description">
		  <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
		  <td mat-cell *matCellDef="let bill"> {{bill.description || '-'}} </td>
		</ng-container>

      	<ng-container matColumnDef="dueDate">
		  <th mat-header-cell *matHeaderCellDef mat-sort-header> Due on </th>
		  <td mat-cell *matCellDef="let bill"> {{bill.dueDate}} </td>
		</ng-container>

      	<ng-container matColumnDef="amount">
		  <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount </th>
		  <td mat-cell *matCellDef="let bill"> {{ bill.amount | currency: 'Â£' }} </td>
		</ng-container>

      	<ng-container matColumnDef="remove">
		  <th mat-header-cell *matHeaderCellDef></th>
		  <td mat-cell *matCellDef="let bill">
		  	<div class="mat-cell-inner">
		  		<button mat-icon-button (click)="removeBill(bill)" [disabled]="showSpinner">
			    	<mat-icon>delete_outline</mat-icon>
			  	</button>
		  	</div>
		  </td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
		<tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>

      </table>

      <div *ngIf="!dataSource" class="mat-spinner-container">
         <mat-spinner diameter="50"></mat-spinner>
      </div>

    </mat-card-content>

    <mat-card-footer class="home-card-footer">

    	<div class="small-mat-spinner-container">
    		<mat-spinner diameter="30" *ngIf="showSpinner"></mat-spinner>
    	</div>

	    <button
	      (click)="addBill()"
	      [disabled]="showSpinner || !dataSource"
	      mat-raised-button color="primary">
	      + New Bill
	    </button>
    	

    </mat-card-footer>

  </mat-card>

</div>
